<!DOCTYPE html>
<html>
<head>
    <title>bPage使用实例</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../lib/bootstrap/3.3.7/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../lib/font-awesome-4.6.3/css/font-awesome.min.css" />
    
	<link rel="stylesheet" href="../lib/syntaxhighlighter/styles/shCore.css" type="text/css">
	<link rel="stylesheet" href="../lib/syntaxhighlighter/styles/shThemeDefault.css" type="text/css">
	
	<link rel="stylesheet" href="../lib/bpage/b.page.bootstrap3.css" type="text/css">
    
    <link rel="stylesheet" href="../css/bpage/header.css" />
    <link rel="stylesheet" href="../css/bpage/docs.css" />
</head>

<body>
    <header class="navbar navbar-static-top" id="top">
    <div class="container">
        <div class="navbar-header">
            <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://terryz.github.io/bdialog/index.html" class="navbar-brand">bDialog</a>
        </div>
        <nav id="bs-navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li>
                    <a href="guide.html" >入门</a>
                </li>
                <li class="active">
                    <a href="javascript:void(0);" >实例</a>
                </li>
                <li>
                    <a href="docs.html" >文档</a>
                </li>
                <li>
                    <a href="changelog.html" >更新记录</a>
                </li>
                <li>
                    <a href="https://terryz.github.io/" >SelectPage</a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="https://github.com/TerryZ/bDialog" target="_blank"><i class="fa fa-lg fa-github"></i> Fork on Github</a></li>
            </ul>
        </nav>
    </div>
    </header>

	<div class="content">
	<div class="container" style="margin-top: 30px;">
		<div class="alert alert-info" role="alert">由于分页的功能均是与服务端进行交互，在静态页面中仅能展示具体代码进行讲解，因此本页面中无法进行实际功能的展示</div>
			<h3 class="heading">页面跳转模式</h3>
			<div class="row-fluid">
				<table class="bTable table table-striped table-bordered table-hover table-condensed">
					<thead>
						<tr>
							<th class="selectColumn" >选择</th>
							<th>登录名</th>
							<th>姓名</th>
							<th>性别</th>
							<th>出生年月</th>
							<th>电话</th>
							<th>电子邮箱</th>
							<th>状态</th>
							<th>更新时间</th>
						</tr>
					</thead>
					<tbody>
						<c:if test="${userList.list != null}">
							<c:forEach var="d" items="${userList.list}">
						<tr class="<c:if test="${d.status == 0}">error</c:if>" id="${d.id}">
							<td class="selectColumn"><input type="radio" name="userSelect" value="${d.id}" /></td>
							<td>${d.login_name}</td>
							<td>${d.name}</td>
							<td>${d.sexName}</td>
							<td><fmt:formatDate pattern="yyyy-MM-dd" value="${d.birthday}" type="date" /></td>
							<td>${d.phone1}</td>
							<td>${d.email}</td>
							<td>${d.statusName}</td>
							<td><fmt:formatDate pattern="yyyy-MM-dd" value="${d.update_time}" type="date" /></td>
						</tr>
							</c:forEach>
						</c:if>
					</tbody>
				</table>
				<c:if test="${userList != null}">
				<input type="hidden" id="pageNumber" value="${userList.pageNumber}">
				<input type="hidden" id="pageSize" value="${userList.pageSize}">
				<input type="hidden" id="totalPage" value="${userList.totalPage}">
				<input type="hidden" id="totalRow" value="${userList.totalRow}">
				</c:if>
			</div>
			
			<div class="row-fluid">
				<div id="page1"></div>
<script type="syntaxhighlighter" class="brush:html">
<![CDATA[
<!-- HTML代码、服务端内容填充 -->
<table class="bTable table table-striped table-bordered table-hover table-condensed">
	<thead>
		<tr>
			<th class="selectColumn" >选择</th>
			<th>登录名</th>
			<th>姓名</th>
			<th>性别</th>
			<th>出生年月</th>
			<th>电话</th>
			<th>电子邮箱</th>
			<th>状态</th>
			<th>更新时间</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td class="selectColumn"><input type="radio" name="userSelect" value="$ {d.id}" /></td>
			<td>$ {d.login_name}</td>
			<td>$ {d.name}</td>
			<td>$ {d.sexName}</td>
			<td>$ {d.birthday}</td>
			<td>$ {d.phone1}</td>
			<td>$ {d.email}</td>
			<td>$ {d.statusName}</td>
			<td>$ {d.update_time}</td>
		</tr>
	</tbody>
</table>
<c:if test="${userList != null}">
<input type="hidden" id="pageNumber" value="$ {userList.pageNumber}">
<input type="hidden" id="pageSize" value="$ {userList.pageSize}">
<input type="hidden" id="totalPage" value="$ {userList.totalPage}">
<input type="hidden" id="totalRow" value="$ {userList.totalRow}">
</c:if>
</script>
<script type="syntaxhighlighter" class="brush:js">
<![CDATA[
//javascript初始化
$('#page1').bPage({
    url : $webroot + 'demo/manage/page',
    totalPage : $('#totalPage').val(),
    totalRow : $('#totalRow').val(),
    pageSize : $('#pageSize').val(),
    pageNumber : $('#pageNumber').val(),
    params : function(){
        return {
            userName : 'zhangsan',
            age : 42
        };
    }
});
]]>
</script>
			</div>
			




			<h3 class="heading">异步加载模式（服务端返回页面模式）</h3>
			<div class="row-fluid">
				<div id="pageContent"></div>
				<div id="page2"></div>
				
				
<script type="syntaxhighlighter" class="brush:html">
<![CDATA[
<!-- HTML代码、服务端内容填充 -->
<div id="pageContent"></div>
<div id="page2"></div>
</script>
<script type="syntaxhighlighter" class="brush:js">
<![CDATA[
//javascript初始化
$('#page2').bPage({
    url : $webroot + 'demo/manage/pageLoad',
    //开启异步处理模式
	asyncLoad : true,
	//服务端页面处理模式
    serverSidePage : true,
	//页面填充目标区域，支持jquery表达式
    asyncTarget : '#pageContent',
    params : function(){
        return {
            userName : 'zhangsan',
            age : 42
        };
    }
});
]]>
</script>
			</div>
			
			<h3 class="heading">异步加载模式（服务端返回JSON数据模式）</h3>
			<div class="row-fluid">
				<div id="pageJsonContent">
					<table id="dataGridTableJson" class="bTable table table-striped table-bordered table-hover table-condensed">
						<thead>
							<tr>
								<th class="selectColumn" >选择</th>
								<th>登录名</th>
								<th>姓名</th>
								<th>性别</th>
								<th>出生年月</th>
								<th>电话</th>
								<th>电子邮箱</th>
								<th>状态</th>
								<th>更新时间</th>
							</tr>
						</thead>
						<tbody>
						</tbody>
					</table>
				</div>
				<div id="page3"></div>
				
				
<script type="syntaxhighlighter" class="brush:html">
<![CDATA[
<!-- HTML代码、服务端内容填充 -->
<div id="pageJsonContent">
	<!-- 定义表格框架 -->
	<table id="dataGridTableJson" class="bTable table table-striped table-bordered table-hover table-condensed">
		<thead>
			<tr>
				<th class="selectColumn" >选择</th>
				<th>登录名</th>
				<th>姓名</th>
				<th>性别</th>
				<th>出生年月</th>
				<th>电话</th>
				<th>电子邮箱</th>
				<th>状态</th>
				<th>更新时间</th>
			</tr>
		</thead>
		<tbody>
		</tbody>
	</table>
</div>
<div id="page3"></div>
</script>
<script type="syntaxhighlighter" class="brush:js">
<![CDATA[
//javascript初始化
$('#page3').bPage({
    url : $webroot + 'demo/manage/pageLoadJson',
    //开启异步处理模式
	asyncLoad : true,
	//关闭服务端页面模式
    serverSidePage : false,
	//数据自定义填充
    render : function(data){
    	var tb = $('#dataGridTableJson tbody');
    	$(tb).empty();
    	if(data && data.list && data.list.length > 0){
    		$.each(data.list,function(i,row){
    			var tr = $('<tr>');
    			$(tr).append('<td></td>');
    			$(tr).append('<td>'+row.login_name+'</td>');
    			$(tr).append('<td>'+row.name+'</td>');
    			$(tr).append('<td>'+row.sexName+'</td>');
    			$(tr).append('<td>'+row.birthday+'</td>');
    			$(tr).append('<td>'+row.phone1+'</td>');
    			$(tr).append('<td>'+row.email+'</td>');
    			$(tr).append('<td>'+row.statusName+'</td>');
    			$(tr).append('<td>'+row.update_time+'</td>');
    			$(tb).append(tr);
    		});	    		
    	}
    },
    params : function(){
        return {
            userName : 'zhangsan',
            age : 42
        };
    }
});
]]>
</script>
			</div>
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	</div>
	</div>








    






<script type="text/javascript" src="../lib/jquery.min.js" ></script>
<script type="text/javascript" src="../lib/jquery-ui.min.js" ></script>
<script type="text/javascript" src="../lib/syntaxhighlighter/scripts/shCore.js" ></script>
<script type="text/javascript" src="../lib/syntaxhighlighter/scripts/shBrushXml.js" ></script>
<script type="text/javascript" src="../lib/syntaxhighlighter/scripts/shBrushCss.js" ></script>
<script type="text/javascript" src="../lib/syntaxhighlighter/scripts/shBrushJScript.js" ></script>
<script type="text/javascript">
$(function(){
	SyntaxHighlighter.all();
});
</script>

<script type="text/javascript" src="../lib/bpage/b.page.js" ></script>

<script type="text/javascript" src="../js/bpage/demo.js" ></script>
</body>
</html>